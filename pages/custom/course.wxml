<!--pages/custom/course.wxml-->
<view class="task-box">
    <van-search
        value="{{ page.keyWord }}"
        bind:change="setVal"
        bind:search="onSearch"
        left-icon="/image/admin/search.png"
        background="#f9f9f9"
        placeholder="请输入搜索关键词"
        />
        <van-tabs active="{{ active }}" color="#004ce5" bind:change="onChange">
            <van-tab title="按地区排序">
                <van-collapse value="{{ activeNames }}" wx:for="{{list}}" wx:key="index">
                    <van-collapse-item title="{{item.key}}" name="0" custom-class="new-item" content-class="content-class">
                        <view class="course-item" wx:for="{{item.data}}" wx:for-item="course" wx:for-index="i"  wx:key="i">
                            <view class="l-circle"></view>
                            <view class="item-name">{{course.name}}</view>
                            <view class="item-state">
                                <text class="s_a" wx:if="{{course.state==0}}">待开课</text>
                                <text class="s_w" wx:if="{{course.state==1}}">开课中</text>
                                <text class="s_o" wx:if="{{course.state==2}}">已结束</text>
                            </view>
                        </view>
                    </van-collapse-item>
                </van-collapse>
            </van-tab>
            <van-tab title="按时间排序">
                <view class="bg-a">
                    <view class="bg-h">
                        <van-row gutter="5" class="table-h">
                            <van-col span="8">日期</van-col>
                            <van-col span="8">课程名</van-col>
                            <van-col span="4">地点</van-col>
                            <van-col span="4">状态</van-col>
                        </van-row>
                    </view>
                    <view class="bg-w">
                        <van-row gutter="5" class="table-c" wx:for="{{list}}" wx:key="id">
                            <van-col span="8">
                                <view>
                                    {{item.beginDate}}
                                </view>
                                <view>
                                    {{item.endDate}}
                                </view>
                            </van-col>
                            <van-col span="8">{{item.name}}</van-col>
                            <van-col span="4">{{item.areaName}}</van-col>
                            <van-col span="4" class="course-s">
                                <text class="s_a" wx:if="{{item.state==0}}">待开课</text>
                                <text class="s_w" wx:if="{{item.state==1}}">开课中</text>
                                <text class="s_o" wx:if="{{item.state==2}}">已结束</text>
                            </van-col>
                        </van-row>
                    </view>
                </view>
            </van-tab>
        </van-tabs>
</view>
<loading hidden="{{!loading}}">
    加载中...
</loading>
<view class="add-lesson" bind:tap="tapScan">
    <van-button color="#004ce5">扫码签到</van-button>
</view>

